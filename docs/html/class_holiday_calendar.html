<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mathlib: HolidayCalendar Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mathlib
   &#160;<span id="projectnumber">1.0.0.0</span>
   </div>
   <div id="projectbrief">A hobbyist C++ library for numerical algorithms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_holiday_calendar-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">HolidayCalendar Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Holidays.  
 <a href="class_holiday_calendar.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_holiday_calendar_8h_source.html">HolidayCalendar.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2f4674b8244c71ff773166135ecdc887"><td class="memItemLeft" align="right" valign="top"><a id="a2f4674b8244c71ff773166135ecdc887"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HolidayCalendar</b> (HolidayCalendarId id)</td></tr>
<tr class="separator:a2f4674b8244c71ff773166135ecdc887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc91a4fac6a463d016a59f5b810957a1"><td class="memItemLeft" align="right" valign="top"><a id="afc91a4fac6a463d016a59f5b810957a1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>HolidayCalendar</b> (const <a class="el" href="class_holiday_calendar.html">HolidayCalendar</a> &amp;h)</td></tr>
<tr class="separator:afc91a4fac6a463d016a59f5b810957a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c43d8a74dc2ce7ac999e00f06bcb52f"><td class="memItemLeft" align="right" valign="top"><a id="a4c43d8a74dc2ce7ac999e00f06bcb52f"></a>
vector&lt; date &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getHolidays</b> ()</td></tr>
<tr class="separator:a4c43d8a74dc2ce7ac999e00f06bcb52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b06c7d22973eb144f590ebb43a62ebb"><td class="memItemLeft" align="right" valign="top"><a id="a0b06c7d22973eb144f590ebb43a62ebb"></a>
gregorian_calendar::day_of_week_type&#160;</td><td class="memItemRight" valign="bottom"><b>getFirstWeekendDay</b> ()</td></tr>
<tr class="separator:a0b06c7d22973eb144f590ebb43a62ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d4bc7d01f326a90ee617784f51fea0"><td class="memItemLeft" align="right" valign="top"><a id="aa4d4bc7d01f326a90ee617784f51fea0"></a>
gregorian_calendar::day_of_week_type&#160;</td><td class="memItemRight" valign="bottom"><b>getSecondWeekendDay</b> ()</td></tr>
<tr class="separator:aa4d4bc7d01f326a90ee617784f51fea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146c2ce100e14c8586d89b34e5dc6d6f"><td class="memItemLeft" align="right" valign="top"><a id="a146c2ce100e14c8586d89b34e5dc6d6f"></a>
HolidayCalendarId&#160;</td><td class="memItemRight" valign="bottom"><b>getHolidayCalendarId</b> ()</td></tr>
<tr class="separator:a146c2ce100e14c8586d89b34e5dc6d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0711ab0b5141910faed2256344417af6"><td class="memItemLeft" align="right" valign="top"><a id="a0711ab0b5141910faed2256344417af6"></a>
<a class="el" href="class_holiday_calendar.html">HolidayCalendar</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_holiday_calendar.html">HolidayCalendar</a> &amp;h)</td></tr>
<tr class="separator:a0711ab0b5141910faed2256344417af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a549f2a617437639ed9c8f9a592395cea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_holiday_calendar.html#a549f2a617437639ed9c8f9a592395cea">generateCalendar</a> ()</td></tr>
<tr class="memdesc:a549f2a617437639ed9c8f9a592395cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">This helper function applies rules determined by the holiday calendar id, to build a vector of holiday dates.  <a href="class_holiday_calendar.html#a549f2a617437639ed9c8f9a592395cea">More...</a><br /></td></tr>
<tr class="separator:a549f2a617437639ed9c8f9a592395cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d3b2fcda6b71fff40bf3219990ed34"><td class="memItemLeft" align="right" valign="top">date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_holiday_calendar.html#a63d3b2fcda6b71fff40bf3219990ed34">easter</a> (int year)</td></tr>
<tr class="memdesc:a63d3b2fcda6b71fff40bf3219990ed34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Easter date in a given year.  <a href="class_holiday_calendar.html#a63d3b2fcda6b71fff40bf3219990ed34">More...</a><br /></td></tr>
<tr class="separator:a63d3b2fcda6b71fff40bf3219990ed34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e4f721ecaa9a67db65a84e56362224"><td class="memItemLeft" align="right" valign="top">date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_holiday_calendar.html#a32e4f721ecaa9a67db65a84e56362224">bumpToMon</a> (date d)</td></tr>
<tr class="memdesc:a32e4f721ecaa9a67db65a84e56362224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bump the date passed as an input parameter to the following Monday.  <a href="class_holiday_calendar.html#a32e4f721ecaa9a67db65a84e56362224">More...</a><br /></td></tr>
<tr class="separator:a32e4f721ecaa9a67db65a84e56362224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef92fa4358ae4f41450c5a7239d028a6"><td class="memItemLeft" align="right" valign="top">date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_holiday_calendar.html#aef92fa4358ae4f41450c5a7239d028a6">christmasBumpedSatSun</a> (int year)</td></tr>
<tr class="memdesc:aef92fa4358ae4f41450c5a7239d028a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the Christmas holiday in year; if 25th December falls on a Saturday or Sunday, 27/12 would be a bank holiday.  <a href="class_holiday_calendar.html#aef92fa4358ae4f41450c5a7239d028a6">More...</a><br /></td></tr>
<tr class="separator:aef92fa4358ae4f41450c5a7239d028a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987921f586d168932c3624bdcf239ebf"><td class="memItemLeft" align="right" valign="top"><a id="a987921f586d168932c3624bdcf239ebf"></a>
date&#160;</td><td class="memItemRight" valign="bottom"><b>boxingDayBumpedSatSun</b> (int year)</td></tr>
<tr class="separator:a987921f586d168932c3624bdcf239ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb23e0816e67fda47bfafcec4d0ad67"><td class="memItemLeft" align="right" valign="top">date&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_holiday_calendar.html#afcb23e0816e67fda47bfafcec4d0ad67">firstInMonth</a> (int year, int month, gregorian_calendar::day_of_week_type dayOfWeek)</td></tr>
<tr class="memdesc:afcb23e0816e67fda47bfafcec4d0ad67"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first date in a month that falls on a day of the week, specified by the <code>dayOfWeek</code> argument.  <a href="class_holiday_calendar.html#afcb23e0816e67fda47bfafcec4d0ad67">More...</a><br /></td></tr>
<tr class="separator:afcb23e0816e67fda47bfafcec4d0ad67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6d921ad1c82a7858d4934e864fc226"><td class="memItemLeft" align="right" valign="top"><a id="a4c6d921ad1c82a7858d4934e864fc226"></a>
date&#160;</td><td class="memItemRight" valign="bottom"><b>lastInMonth</b> (int year, int month, gregorian_calendar::day_of_week_type dayOfWeek)</td></tr>
<tr class="separator:a4c6d921ad1c82a7858d4934e864fc226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42fb2e582a8f91d2a926d33b504eaeba"><td class="memItemLeft" align="right" valign="top"><a id="a42fb2e582a8f91d2a926d33b504eaeba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>removeSatSun</b> ()</td></tr>
<tr class="separator:a42fb2e582a8f91d2a926d33b504eaeba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6bc902332761c3d73653d2add1c0b88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_holiday_calendar.html#ab6bc902332761c3d73653d2add1c0b88">isHoliday</a> (date d)</td></tr>
<tr class="memdesc:ab6bc902332761c3d73653d2add1c0b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan the holiday calendar to check if a given date is a business holiday.  <a href="class_holiday_calendar.html#ab6bc902332761c3d73653d2add1c0b88">More...</a><br /></td></tr>
<tr class="separator:ab6bc902332761c3d73653d2add1c0b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb5a8f955e9cb9f04c4da7c26999c2e"><td class="memItemLeft" align="right" valign="top"><a id="a6cb5a8f955e9cb9f04c4da7c26999c2e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isBusinessDay</b> (date d)</td></tr>
<tr class="separator:a6cb5a8f955e9cb9f04c4da7c26999c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2c241f18c9214e8bfb3586eb682070"><td class="memItemLeft" align="right" valign="top"><a id="a9f2c241f18c9214e8bfb3586eb682070"></a>
date&#160;</td><td class="memItemRight" valign="bottom"><b>adjust</b> (const date &amp;d, <a class="el" href="class_business_day_conventions.html">BusinessDayConventions</a> c)</td></tr>
<tr class="separator:a9f2c241f18c9214e8bfb3586eb682070"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Holidays. </p>
<p>A key problem when working with dates is the impact of holidays and weekends. To manage this complexity, a holiday calendar is used.</p>
<p>A holiday calendar implementation keeps track of which dates are holidays and which are weekends. Different countries have different holiday dates and thus different calendars. It's also not unusual for individual exchanges or other financial entities to have their own calendar. When a <a class="el" href="class_holiday_calendar.html" title="Holidays.">HolidayCalendar</a> instance is created, an internal holidays vector is populated with the different holiday dates for the specified country. My naive implementation of HolidayCalendars is inspired by an open-source pricing and market-risk analytics library, OpenGamma. See here : <a href="https://github.com/OpenGamma/Strata/blob/main/modules/basics/src/main/java/com/opengamma/strata/basics/date/GlobalHolidayCalendars.java">https://github.com/OpenGamma/Strata/blob/main/modules/basics/src/main/java/com/opengamma/strata/basics/date/GlobalHolidayCalendars.java</a> </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a32e4f721ecaa9a67db65a84e56362224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e4f721ecaa9a67db65a84e56362224">&#9670;&nbsp;</a></span>bumpToMon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">date HolidayCalendar::bumpToMon </td>
          <td>(</td>
          <td class="paramtype">date&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bump the date passed as an input parameter to the following Monday. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">if</span> (d.day_of_week() == Sunday)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        d += days(1);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> d;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aef92fa4358ae4f41450c5a7239d028a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef92fa4358ae4f41450c5a7239d028a6">&#9670;&nbsp;</a></span>christmasBumpedSatSun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">date HolidayCalendar::christmasBumpedSatSun </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the Christmas holiday in year; if 25th December falls on a Saturday or Sunday, 27/12 would be a bank holiday. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    date christmas{ year, 12, 25 };</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (christmas.day_of_week() == Saturday || christmas.day_of_week() == Sunday)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">return</span> date{ year, 12, 27 };</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> christmas;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a63d3b2fcda6b71fff40bf3219990ed34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d3b2fcda6b71fff40bf3219990ed34">&#9670;&nbsp;</a></span>easter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">date HolidayCalendar::easter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Easter date in a given year. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordtype">int</span> a{ year % 19 };</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">int</span> b{ year / 100 };</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordtype">int</span> c{ year % 100 };</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">int</span> d{ b / 4 };</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">int</span> e{ b % 4 };</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">int</span> f{ (b + 8) / 25 };</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">int</span> g{ (b - f + 1) / 3 };</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">int</span> h{ (19 * a + b - d - g + 15) % 30 };</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">int</span> i{ c / 4 };</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordtype">int</span> k{ c % 4 };</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> l{ (32 + 2 * e + 2 * i - h - k) % 7 };</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> m{ (a + 11 * h + 22 * l) / 451 };</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">int</span> month{ (h + l - 7 * m + 114) / 31 };</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">int</span> day{ ((h + l - 7 * m + 114) % 31) + 1 };</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> date{ year, month, day };</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afcb23e0816e67fda47bfafcec4d0ad67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb23e0816e67fda47bfafcec4d0ad67">&#9670;&nbsp;</a></span>firstInMonth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">date HolidayCalendar::firstInMonth </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gregorian_calendar::day_of_week_type&#160;</td>
          <td class="paramname"><em>dayOfWeek</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The first date in a month that falls on a day of the week, specified by the <code>dayOfWeek</code> argument. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td></td></tr>
    <tr><td class="paramname">month</td><td></td></tr>
    <tr><td class="paramname">dayOfWeek</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    date firstOfTheMonth{ year, month, 1 };</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    date result{ firstOfTheMonth };</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">while</span> (result.day_of_week() != dayOfWeek)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        result += days(1);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a549f2a617437639ed9c8f9a592395cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a549f2a617437639ed9c8f9a592395cea">&#9670;&nbsp;</a></span>generateCalendar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HolidayCalendar::generateCalendar </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This helper function applies rules determined by the holiday calendar id, to build a vector of holiday dates. </p>
<div class="fragment"><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordflow">if</span> (holidayCalendarId == HolidayCalendarId::GBLO)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> year{ 1950 }; year &lt;= 2099; ++year)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;            <span class="comment">// New Year</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;            <span class="keywordflow">if</span> (year &gt;= 1974)</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;                holidays.push_back(<a class="code" href="class_holiday_calendar.html#a32e4f721ecaa9a67db65a84e56362224">bumpToMon</a>(date{ year, 1, 1 }));</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            }</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <span class="comment">// Easter</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            holidays.push_back(date{ <a class="code" href="class_holiday_calendar.html#a63d3b2fcda6b71fff40bf3219990ed34">easter</a>(year) - days(2) });</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            holidays.push_back(date{ <a class="code" href="class_holiday_calendar.html#a63d3b2fcda6b71fff40bf3219990ed34">easter</a>(year) + days(1) });</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="comment">// Early May</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <span class="keywordflow">if</span> (year == 1995 || year == 2020)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;                holidays.push_back(date{ year, 5, 8 });</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year &gt;= 1978)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                holidays.push_back(<a class="code" href="class_holiday_calendar.html#afcb23e0816e67fda47bfafcec4d0ad67">firstInMonth</a>(year, 5, Monday));</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="comment">// Bank holiday to mark queen&#39;s golden jubilee, diamond jubilee and platinum jubilee</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">if</span> (year == 2002)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                <span class="comment">//golden jubilee</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                holidays.push_back(date{ 2002, 6, 3 });</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                holidays.push_back(date{ 2002, 6, 4 });</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year == 2012)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="comment">//diamond jubilee</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                holidays.push_back(date{ 2012, 6, 4 });</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                holidays.push_back(date{ 2012, 6, 5 });</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year == 2022)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="comment">//platinum jubilee</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                holidays.push_back(date{ 2022, 6, 2 });</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                holidays.push_back(date{ 2022, 6, 3 });</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year == 1967 || year == 1970)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                holidays.push_back(lastInMonth(year, 5, Monday));</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year &lt; 1971)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="comment">//white sunday</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                holidays.push_back(<a class="code" href="class_holiday_calendar.html#a63d3b2fcda6b71fff40bf3219990ed34">easter</a>(year) + days(50));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                holidays.push_back(lastInMonth(year, 5, Monday));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="comment">// Summer</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">if</span> (year &lt; 1965)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                holidays.push_back(<a class="code" href="class_holiday_calendar.html#afcb23e0816e67fda47bfafcec4d0ad67">firstInMonth</a>(year, 8, Monday));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (year &lt; 1971)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                holidays.push_back(lastInMonth(year, 8, Saturday) + days(2));</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                holidays.push_back(lastInMonth(year, 8, Monday));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">// Christmas</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            holidays.push_back(<a class="code" href="class_holiday_calendar.html#aef92fa4358ae4f41450c5a7239d028a6">christmasBumpedSatSun</a>(year));</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            holidays.push_back(boxingDayBumpedSatSun(year));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            holidays.push_back(date{ 2011, 4, 29 }); <span class="comment">// royal wedding</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            holidays.push_back(date{ 1999, 12, 31 }); <span class="comment">//millenium</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            firstWeekendDay = greg_weekday{ Saturday };</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            secondWeekendDay = greg_weekday{ Sunday };</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6bc902332761c3d73653d2add1c0b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6bc902332761c3d73653d2add1c0b88">&#9670;&nbsp;</a></span>isHoliday()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HolidayCalendar::isHoliday </td>
          <td>(</td>
          <td class="paramtype">date&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scan the holiday calendar to check if a given date is a business holiday. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (d.day_of_week() == firstWeekendDay || d.day_of_week() == secondWeekendDay)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    vector&lt;date&gt;::iterator it;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    it = find(holidays.begin(), holidays.end(), d);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">if</span> (it != holidays.end())</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_holiday_calendar_8h_source.html">HolidayCalendar.h</a></li>
<li>HolidayCalendar.cpp</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclass_holiday_calendar_html_afcb23e0816e67fda47bfafcec4d0ad67"><div class="ttname"><a href="class_holiday_calendar.html#afcb23e0816e67fda47bfafcec4d0ad67">HolidayCalendar::firstInMonth</a></div><div class="ttdeci">date firstInMonth(int year, int month, gregorian_calendar::day_of_week_type dayOfWeek)</div><div class="ttdoc">The first date in a month that falls on a day of the week, specified by the dayOfWeek argument.</div><div class="ttdef"><b>Definition:</b> HolidayCalendar.cpp:112</div></div>
<div class="ttc" id="aclass_holiday_calendar_html_a32e4f721ecaa9a67db65a84e56362224"><div class="ttname"><a href="class_holiday_calendar.html#a32e4f721ecaa9a67db65a84e56362224">HolidayCalendar::bumpToMon</a></div><div class="ttdeci">date bumpToMon(date d)</div><div class="ttdoc">Bump the date passed as an input parameter to the following Monday.</div><div class="ttdef"><b>Definition:</b> HolidayCalendar.cpp:133</div></div>
<div class="ttc" id="aclass_holiday_calendar_html_a63d3b2fcda6b71fff40bf3219990ed34"><div class="ttname"><a href="class_holiday_calendar.html#a63d3b2fcda6b71fff40bf3219990ed34">HolidayCalendar::easter</a></div><div class="ttdeci">date easter(int year)</div><div class="ttdoc">Get the Easter date in a given year.</div><div class="ttdef"><b>Definition:</b> HolidayCalendar.cpp:237</div></div>
<div class="ttc" id="aclass_holiday_calendar_html_aef92fa4358ae4f41450c5a7239d028a6"><div class="ttname"><a href="class_holiday_calendar.html#aef92fa4358ae4f41450c5a7239d028a6">HolidayCalendar::christmasBumpedSatSun</a></div><div class="ttdeci">date christmasBumpedSatSun(int year)</div><div class="ttdoc">Determine the Christmas holiday in year; if 25th December falls on a Saturday or Sunday,...</div><div class="ttdef"><b>Definition:</b> HolidayCalendar.cpp:142</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
